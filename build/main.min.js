!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c,d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=a("./config.coffee"),e=a("./module.coffee"),d=a("../mixins/logger.coffee"),c=function(a){function b(a){this.game=a,this.me=this.game.add.sprite(-100,-100,"axe"),this.pickupSound=new Phaser.Sound(this.game,"pickup",1)}return h(b,a),b.include(d),b.prototype.logPrefix="Axe",b.prototype.lifeTime=4e3,b.prototype.dropFrom=function(a,b){return this.game.physics.enable(this.me,Phaser.Physics.ARCADE),this.me.x=a,this.me.y=b,this.me.body.velocity.setTo(0,-350),this.me.body.gravity.set(0,480)},b.prototype.flyTo=function(a,b,c){var d;return(null!=(d=window.plugins)?d.NativeAudio:void 0)?window.plugins.NativeAudio.play("pickup"):this.pickupSound.play(),this.me.body.gravity.set(0,0),this.flyTween=this.game.tweens.create(this.me).to({x:a,y:b},1e3,Phaser.Easing.Cubic.Out),this.flyTween.start(),this.flyTween.onComplete.add(c)},b.prototype.isTweening=function(){var a;return null!=(a=this.flyTween)?a.isRunning:void 0},b.prototype.disappear=function(){return this.me.visible=!1},b.prototype.isVisible=function(){return this.me.visible},b}(e),b.exports=c},{"../mixins/logger.coffee":20,"./config.coffee":4,"./module.coffee":10}],2:[function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("./scorpion.coffee"),c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.prototype.runFrames=Phaser.Animation.generateFrameNames("b",1,5,".png",0),b.prototype.dieFrames=["b6.png"],b.prototype.speed=5,b.prototype.bonus=5,b.prototype.health=10,b}(d),b.exports=c},{"./scorpion.coffee":13}],3:[function(a,b){var c,d,e=function(a,b){return function(){return a.apply(b,arguments)}},f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("./config.coffee"),c=function(a){function b(a,c,d,f,g){this.onInputUpListener=e(this.onInputUpListener,this),b.__super__.constructor.call(this,a,c,d,f,g),this.clickSound=new Phaser.Sound(a,"click",1),this.onInputUp.add(this.onInputUpListener)}return g(b,a),b.prototype.onInputUpListener=function(){var a;return(null!=(a=window.plugins)?a.NativeAudio:void 0)?window.plugins.NativeAudio.play("click"):this.clickSound.play()},b}(Phaser.Button),b.exports=c},{"./config.coffee":4}],4:[function(a,b){var c,d;c="http://putainmedia.ngrok.com",d="https://putainstatic.ngrok.com",b.exports={upload_url:c+"/file/public_upload",media_url:d,width:640,height:1136,stage:{backgroundColor:0},boot:{images:{loading:{src:"assets/img/loading.png"}}},images:{background:{src:"assets/img/bg.png"},ground:{src:"assets/img/ground.png"},logo:{src:"assets/img/logo2.png"},start_btn:{src:"assets/img/start_btn.png"},exit_btn:{src:"assets/img/share_btn.png"},score_board:{src:"assets/img/score_board.png"},game_over:{src:"assets/img/game_over2.png"},axe:{src:"assets/img/axe.png"},pause_btn:{src:"assets/img/pause_button.png"}},sprites:{red_duck:{src:"assets/img/enemy1.png",width:79,height:96,frames:5},green_duck:{src:"assets/img/enemy2.png",width:79,height:96,frames:5},cloud:{src:"assets/img/cloud2.png",width:64,height:96,frames:2}},atlasXML:{scorpion:{src:"assets/atlasXML/scorpion.png",xml:"assets/atlasXML/scorpion.xml"}},bitmap_fonts:{"8bit_wonder":{src:"assets/font/8bit_wonder/font.png",map:"assets/font/8bit_wonder/font.xml"}},sounds:{intro:{src:"assets/sound/intro.ogg",src_mp3:"assets/sound/intro.mp3"},click:{src:"assets/sound/click.ogg",src_mp3:"assets/sound/click.mp3"},pickup:{src:"assets/sound/pickup.ogg",src_mp3:"assets/sound/pickup.mp3"},die:{src:"assets/sound/die.mp3",src_mp3:"assets/sound/die.mp3"},double_kill:{src:"assets/sound/double_kill.ogg",src_mp3:"assets/sound/double_kill.mp3"},triple_kill:{src:"assets/sound/triple_kill.ogg",src_mp3:"assets/sound/triple_kill.mp3"},cockroach:{src:"assets/sound/cockroach.mp3",src_mp3:"assets/sound/cockroach.mp3"}}}},{}],5:[function(a,b){var c,d,e,f,g,h,i,j,k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};h=a("./module.coffee"),g=a("../mixins/logger.coffee"),j=79,d=96,f=0,i=1,e=320,c=function(a){function b(a){this.game=a,this.me=this.game.add.sprite(0,a.world.height-d-Math.random()*e,this.sprite),this.me.animations.add("leftfly",[2,3],6,!0),this.me.animations.add("rightfly",[0,1],6,!0),this.me.animations.add("die",[4],6,!1),this.me.animations.play("rightfly"),this.game.physics.enable(this.me,Phaser.Physics.ARCADE),this.me.body.velocity.setTo(100,-350),this.me.body.collideWorldBounds=!0,this.me.body.bounce.set(1),this.me.body.gravity.set(0,280),this.dieSound=new Phaser.Sound(this.game,"chicken_die",1)}return l(b,a),b.include(g),b.prototype.logPrefix="Duck",b.prototype.sprite="green_duck",b.prototype.kill=function(){var a;return(null!=(a=window.plugins)?a.NativeAudio:void 0)?window.plugins.NativeAudio.play("chicken_die"):this.dieSound.play(),this.me.animations.play("die"),this.me.body.collideWorldBounds=!1,this.me.body.velocity.setTo(0,350),this.me.body.bounce.set(0),this.died=!0,setTimeout(function(a){return function(){return a.me.destroy()}}(this),2e3)},b.prototype.update=function(){return this.died?void 0:(this.me.animations.play(this.me.deltaX>0?"rightfly":"leftfly"),this.me.body.bottom===this.game.world.height?this.me.body.velocity.setTo(this.me.body.velocity.x,-350):void 0)},b}(h),b.exports=c},{"../mixins/logger.coffee":20,"./module.coffee":10}],6:[function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("./scorpion.coffee"),c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.prototype.runFrames=Phaser.Animation.generateFrameNames("x",1,5,".png",0),b.prototype.dieFrames=["x6.png"],b.prototype.speed=5,b}(d),b.exports=c},{"./scorpion.coffee":13}],7:[function(a,b){var c,d,e,f,g=function(a,b){return function(){return a.apply(b,arguments)}},h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=a("../module.coffee"),e=a("../../mixins/logger.coffee"),c=a("../axe.coffee"),d=function(a){function b(a){this.onGameOver=g(this.onGameOver,this),this.game=a,this.me=this.game.add.group(),this.score=new Phaser.BitmapText(this.game,120,10,"8bit_wonder",""+this.axes,40),this.score.updateText(),this.score.x=123-this.score.textWidth,this.axe=new Phaser.Image(this.game,128,0,"axe"),this.me.add(this.score),this.me.add(this.axe),this.me.x=this.game.width-192-50,this.me.y=50,$(this.game).on("GameOverEvent",this.onGameOver)}return i(b,a),b.include(e),b.prototype.logPrefix="GUIAxes",b.prototype.axes=0,b.prototype.onGameOver=function(){return this.game.isUsingAxes=!1},b.prototype.getScore=function(){return this.axes},b.prototype.addAxe=function(a){return this.axes+=a},b.prototype.update=function(){return this.score.text=""+this.axes,this.score.x=123-this.score.width},b.prototype.reset=function(){return this.axes=0},b}(f),b.exports=d},{"../../mixins/logger.coffee":20,"../axe.coffee":1,"../module.coffee":10}],8:[function(a,b){var c,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("../module.coffee"),d=a("../../mixins/logger.coffee"),c=function(a){function b(a){this.updateTime=f(this.updateTime,this),this.game=a,this.me=this.game.add.group(),this.time=new Phaser.BitmapText(this.game,0,10,"8bit_wonder",""+this.getTime(),40),this.me.add(this.time),this.me.x=this.game.world.centerX,this.me.y=50,this.timer=this.game.time.create(!1),this.timer.loop(1e3,this.updateTime,this),this.timer.start()}return h(b,a),b.include(d),b.prototype.logPrefix="GUIClock",b.prototype.seconds=5,b.prototype.updateTime=function(){return!this.game.isOver&&(this.seconds--,this.seconds<0)?$(this).trigger("Time.Out"):void 0},b.prototype.getTime=function(){var a,b;return a=Math.floor(this.seconds/60),b=this.seconds%60,10>a&&(a="0"+a),10>b&&(b="0"+b),a+":"+b},b.prototype.getSeconds=function(){return this.seconds},b.prototype.reset=function(){return this.seconds=30},b.prototype.update=function(){return this.game.isOver?this.me.visible=!1:(this.time.text=this.getTime(),this.me.x=this.game.world.centerX-this.time.width/2)},b}(e),b.exports=c},{"../../mixins/logger.coffee":20,"../module.coffee":10}],9:[function(a,b){var c,d,e=function(a,b){return function(){return a.apply(b,arguments)}},f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../button.coffee"),d=function(a){function b(a){this.onClick=e(this.onClick,this),b.__super__.constructor.call(this,a,51,56,"pause_btn",this.onClick),this.game.add.group().add(this)}return g(b,a),b.prototype.onClick=function(){return console.log("pause btn clicked"),this.game.isOver?void 0:$(this.game).trigger("PausedEvent")},b}(c),b.exports=d},{"../button.coffee":3}],10:[function(a,b){var c,d,e=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};d=["extended","included"],c=function(){function a(){}return a.extend=function(a){var b,c,f;for(b in a)c=a[b],e.call(d,b)<0&&(this[b]=c);return null!=(f=a.extended)&&f.apply(this),this},a.include=function(a){var b,c,f;for(b in a)c=a[b],e.call(d,b)<0&&(this.prototype[b]=c);return null!=(f=a.included)&&f.apply(this),this},a}(),b.exports=c},{}],11:[function(a,b){var c,d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("./module.coffee"),d=a("../mixins/logger.coffee"),g=1136,c=71,f=function(a){function b(a){this.game=a,this.me=this.game.add.sprite(0,this.game.height-c,"ground"),this.game.physics.enable(this.me,Phaser.Physics.ARCADE),this.me.enableBody=!0,this.me.body.immovable=!0}return i(b,a),b.include(d),b.prototype.logPrefix="Platform",b}(e),b.exports=f},{"../mixins/logger.coffee":20,"./module.coffee":10}],12:[function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("./duck.coffee"),d=a("../mixins/logger.coffee"),e=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.logPrefix="RedDuck",b.prototype.sprite="red_duck",b}(c),b.exports=e},{"../mixins/logger.coffee":20,"./duck.coffee":5}],13:[function(a,b){var c,d,e,f,g,h,i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("./module.coffee"),d=a("../mixins/logger.coffee"),g=a("./util/util.coffee"),h=96,c=108,f=function(a){function b(a){var b,c;for(this.game=a,this.me=this.game.add.sprite(g.getRandomInt(0,a.width),0,this.sprite),this.me.animations.add("run",this.runFrames,24,!0),this.me.animations.add("die",this.dieFrames,0,!1),this.me.animations.play("run"),this.me.anchor.set(.5),this.sound=new Phaser.Sound(this.game,"cockroach",1),this.dieSound=new Phaser.Sound(this.game,"die",1),b=c=0;4>=c;b=++c)this.points.x[b]=a.rnd.between(0,a.width),this.points.y[b]=a.height/4*b;this.plotPath(),this.sound.play(),$(a).on("GameOverEvent",function(a){return function(){var b,c;return a.sound.stop(),null!=(b=window.plugins)&&null!=(c=b.NativeAudio)?c.stop("cockroach"):void 0}}(this))}return j(b,a),b.include(d),b.prototype.logPrefix="Scorpion",b.prototype.sprite="scorpion",b.prototype.health=1,b.prototype.points={x:[],y:[]},b.prototype.pi=0,b.prototype.speed=2,b.prototype.bonus=1,b.prototype.runFrames=Phaser.Animation.generateFrameNames("v",1,5,".png",0),b.prototype.dieFrames=["v6.png"],b.prototype.plotPath=function(){var a,b,c,d,e,f,g;for(this.path=[],b=0,f=this.speed/this.game.height,a=0,g=[];!(a>1);)d=this.game.math.catmullRomInterpolation(this.points.x,a),e=this.game.math.catmullRomInterpolation(this.points.y,a),c={x:d,y:e,angle:0},b>0&&(c.angle=this.game.math.angleBetweenPoints(this.path[b-1],c)),c.angle+=90,this.path.push(c),b++,g.push(a+=f);return g},b.prototype.kill=function(){var a;return(null!=(a=window.plugins)?a.NativeAudio:void 0)?(window.plugins.NativeAudio.play("die"),window.plugins.NativeAudio.stop("cockroach")):(this.sound.stop(),this.dieSound.play()),this.me.animations.play("die"),this.died=!0,setTimeout(function(a){return function(){return a.me.destroy()}}(this),2e3),this.bonus},b.prototype.isKilled=function(){return this.died===!0},b.prototype.update=function(){return this.died?void 0:(this.me.y=this.path[this.pi].y,this.me.x=this.path[this.pi].x,this.me.rotation=this.path[this.pi].angle,this.pi++,this.pi>=this.path.length?(this.me.destroy(),this.died=!0):void 0)},b}(e),b.exports=f},{"../mixins/logger.coffee":20,"./module.coffee":10,"./util/util.coffee":18}],14:[function(a,b){var c,d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=a("../config.coffee"),d=a("../../mixins/logger.coffee"),e=a("../module.coffee"),c=function(a){function b(){}return h(b,a),b.include(d),b.prototype.logPrefix="BootState",b.prototype.preload=function(){var a,b,c,d;this.game.stage=$.extend(this.game.stage,f.stage),c=f.boot.images,d=[];for(b in c)a=c[b],d.push(this.game.load.image(b,a.src));return d},b.prototype.create=function(){return this.game.state.start("load")},b}(e),b.exports=c},{"../../mixins/logger.coffee":20,"../config.coffee":4,"../module.coffee":10}],15:[function(a,b){var c,d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=a("../config.coffee"),d=a("../../mixins/logger.coffee"),e=a("../module.coffee"),c=function(a){function b(){}return h(b,a),b.include(d),b.prototype.logPrefix="LoadState",b.prototype.preload=function(){var a,b,c,d,e,g,h,i,j,k,l,m,n,o,p,q,r;this.loading_sprite=this.game.add.sprite(142,this.game.height/2,"loading"),this.game.load.setPreloadSprite(this.loading_sprite),l=f.images;for(g in l)e=l[g],this.game.load.image(g,e.src);m=f.sprites;for(k in m)j=m[k],this.game.load.spritesheet(k,j.src,j.width,j.height,j.frames);n=f.bitmap_fonts;for(d in n)c=n[d],this.game.load.bitmapFont(d,c.src,c.map);o=f.atlasXML;for(b in o)a=o[b],this.game.load.atlasXML(b,a.src,a.xml);p=f.sounds,r=[];for(i in p)h=p[i],this.game.load.audio(i,h.src),r.push((null!=(q=window.plugins)?q.NativeAudio:void 0)?"cockroach"===i?window.plugins.NativeAudio.preloadComplex(i,h.src_mp3,.2,1,0,function(){return console.log("Finish loading "+i)},function(a){return console.log(a)}):window.plugins.NativeAudio.preloadSimple(i,h.src_mp3,function(a){return console.log(a)},function(a){return console.log(a)}):void 0);return r},b.prototype.create=function(){return this.game.state.start("menu")},b}(e),b.exports=c},{"../../mixins/logger.coffee":20,"../config.coffee":4,"../module.coffee":10}],16:[function(a,b){var c,d,e,f,g,h,i,j,k,l,m=function(a,b){return function(){return a.apply(b,arguments)}},n={}.hasOwnProperty,o=function(a,b){function c(){this.constructor=a}for(var d in b)n.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};l=a("../config.coffee"),j=a("../red_duck.coffee"),i=a("../platform.coffee"),f=a("../../mixins/logger.coffee"),h=a("../module.coffee"),c=a("../button.coffee"),e=368,d=144,k=212,g=function(a){function b(){this.onStartBtnClickListener=m(this.onStartBtnClickListener,this)}return o(b,a),b.include(f),b.prototype.logPrefix="MenuState",b.prototype.preload=function(){},b.prototype.create=function(){return this.game.scale.scaleMode=Phaser.ScaleManager.EXACT_FIT,this.game.scale.setScreenSize(!0),this.game.add.sprite(0,0,"background"),this.GUI=this.game.add.group(),this.logo=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY-100,"logo"),this.logo.anchor.setTo(.5,.5),this.game.add.tween(this.logo).to({y:this.game.world.centerY-150},1e3,Phaser.Easing.Cubic.InOut,!0,0,Number.MAX_VALUE,!0),this.startBtn=new c(this.game,this.game.world.centerX,this.game.world.centerY,"start_btn",this.onStartBtnClickListener),this.startBtn.anchor.setTo(.5,.5),this.GUI.add(this.logo),this.GUI.add(this.startBtn),this.debug(this.startBtn)},b.prototype.onStartBtnClickListener=function(){return this.debug("start btn click listener"),this.game.state.start("play")},b.prototype.update=function(){},b}(h),b.exports=g},{"../../mixins/logger.coffee":20,"../button.coffee":3,"../config.coffee":4,"../module.coffee":10,"../platform.coffee":11,"../red_duck.coffee":12}],17:[function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p=function(a,b){return function(){return a.apply(b,arguments)}},q={}.hasOwnProperty,r=function(a,b){function c(){this.constructor=a}for(var d in b)q.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};o=a("../config.coffee"),j=a("../../mixins/logger.coffee"),m=a("../scorpion.coffee"),f=a("../fast_scorpion.coffee"),d=a("../boss.coffee"),c=a("../axe.coffee"),k=a("../module.coffee"),e=a("../button.coffee"),n=a("../util/util.coffee"),g=a("../gui/axes.coffee"),h=a("../gui/clock.coffee"),i=a("../gui/pause_btn.coffee"),l=function(a){function b(){this.pause_game=p(this.pause_game,this),this.onTimeOut=p(this.onTimeOut,this),this.onShareBtnClickListener=p(this.onShareBtnClickListener,this),this.onStartBtnClickListener=p(this.onStartBtnClickListener,this),this.onResumeBtnClicked=p(this.onResumeBtnClicked,this)}return r(b,a),b.include(j),b.prototype.logPrefix="PlayState",b.prototype.preload=function(){},b.prototype.create=function(){var a;return this.game.add.sprite(0,0,"background"),this.enemiesLayer=this.game.add.group(),this.enemiesLayer.z=5,this.enemies=[],this.axe=new c(this.game),this.scorpionTimer=this.game.time.create(!1),this.scorpionTimer.loop(1e3,function(a){return function(){return a.addScorpion()}}(this),this),this.scorpionTimer.start(),this.fastScorpionTimer=this.game.time.create(!1),this.fastScorpionTimer.loop(2e3,function(a){return function(){return a.addScorpion("fast")}}(this),this),this.fastScorpionTimer.start(),this.bossTimer=this.game.time.create(!1),this.bossTimer.loop(3e3,function(a){return function(){return a.addScorpion("boss")}}(this),this),this.bossTimer.start(),this.addScorpion(),this.GUIAxes=new g(this.game),this.GUIClock=new h(this.game),this.GUIGameOver=this.game.add.group(),this.gameOverText=new Phaser.Sprite(this.game,this.game.world.centerX,-400,"game_over"),this.gameOverText.anchor.setTo(.5,.5),this.gameOverTextInTween=this.game.tweens.create(this.gameOverText).to({y:120},1e3,Phaser.Easing.Cubic.Out),this.gameOverTextOutTween=this.game.tweens.create(this.gameOverText).to({y:-120},1e3,Phaser.Easing.Cubic.Out),this.scoreBoard=new Phaser.Sprite(this.game,this.game.world.centerX,-500,"score_board"),this.scoreBoard.anchor.setTo(.5,.5),this.scoreBoardInTween=this.game.tweens.create(this.scoreBoard).to({y:300},1e3,Phaser.Easing.Cubic.Out),this.scoreBoardOutTween=this.game.tweens.create(this.scoreBoard).to({y:-200},1e3,Phaser.Easing.Cubic.Out),this.result=new Phaser.BitmapText(this.game,this.game.world.centerX,-100,"8bit_wonder","",60),this.resultInTween=this.game.tweens.create(this.result).to({y:this.game.world.centerY-300},1e3,Phaser.Easing.Cubic.Out),this.resultOutTween=this.game.tweens.create(this.result).to({y:-100},1e3,Phaser.Easing.Cubic.Out),this.startBtn=new e(this.game,-200,450,"start_btn",this.onStartBtnClickListener),this.startBtn.anchor.setTo(1,0),this.startBtnInTween=this.game.tweens.create(this.startBtn).to({x:this.game.world.centerX-20},1e3,Phaser.Easing.Cubic.Out),this.shareBtn=new e(this.game,this.game.width+200,450,"exit_btn",this.onShareBtnClickListener),this.shareBtnInTween=this.game.tweens.create(this.shareBtn).to({x:this.game.world.centerX+20},1e3,Phaser.Easing.Cubic.Out),this.GUIGameOver.z=100,this.GUIGameOver.y=200,this.GUIGameOver.add(this.gameOverText),this.GUIGameOver.add(this.scoreBoard),this.GUIGameOver.add(this.startBtn),this.GUIGameOver.add(this.shareBtn),this.GUIGameOver.add(this.result),this.dblKillSound=new Phaser.Sound(this.game,"double_kill",1),this.tripleKillSound=new Phaser.Sound(this.game,"triple_kill",1),a=new i(this.game),$(".resume-btn").on("click",this.onResumeBtnClicked),$(this.game).on("PausedEvent",this.pause_game),$(this.GUIClock).on("Time.Out",this.onTimeOut),document.addEventListener("pause",this.pause_game,!1)},b.prototype.onResumeBtnClicked=function(){return this.game.paused=!1,$("body").removeClass("paused")},b.prototype.reset=function(){return this.GUIClock.reset(),this.game.isOver=!1},b.prototype.onStartBtnClickListener=function(){return this.reset(),this.game.state.restart("play")},b.prototype.onShareBtnClickListener=function(){return this.share_result()},b.prototype.addScorpion=function(a){var b;return null==a&&(a="normal"),this.game.paused?void 0:(b=function(){switch(a){case"normal":return new m(this.game);case"fast":return new f(this.game);case"boss":return new d(this.game)}}.call(this),b.me.inputEnabled=!0,this.enemiesLayer.add(b.me),b.me.events.onInputDown.add(function(a){return function(){return a.handleScorpionClickEvent(b)}}(this)),this.enemies.push(b))},b.prototype.handleScorpionClickEvent=function(a){var b,c,d,e,f;if(!this.game.isOver){for(e=this.game.input.position.x,f=this.game.input.position.y,c=this.enemies.length,d=0,b=0;c--;)a=this.enemies[c],Phaser.Rectangle.contains(a.me.getBounds(),e,f)&&!a.isKilled()&&(1===a.health?(d+=1,a.kill(),b+=a.bonus,a.me.events.onInputDown.removeAll(),this.enemies.splice(this.enemies.indexOf(a),1)):a.health>1&&(a.health-=1));return this.GUIAxes.addAxe(b),2===d?setTimeout(function(a){return function(){var b;return(null!=(b=window.plugins)?b.NativeAudio:void 0)?window.plugins.NativeAudio.play("double_kill"):a.dblKillSound.play()}}(this),100):3===d?setTimeout(function(a){return function(){var b;return(null!=(b=window.plugins)?b.NativeAudio:void 0)?window.plugins.NativeAudio.play("triple_kill"):a.tripleKillSound.play()}}(this),100):void 0}},b.prototype.onTimeOut=function(){return this.gameOver()},b.prototype.gameOver=function(){return this.result.text=this.GUIAxes.getScore(),this.gameOverTextInTween.start(),this.scoreBoardInTween.start(),this.startBtnInTween.start(),this.shareBtnInTween.start(),this.resultInTween.start(),this.scorpionTimer.destroy(),this.fastScorpionTimer.destroy(),this.bossTimer.destroy(),this.game.isOver=!0,$(this.game).trigger("GameOverEvent")},b.prototype.share_result=function(){return facebookConnectPlugin.getLoginStatus(function(a){return function(b){return a.debug("login status",b),"connected"===b.status?(a.debug("logged in"),facebookConnectPlugin.api("me",[],function(b){var c;return a.debug("me",b),c=b.name,n.resize(a.game.canvas.toDataURL(),320,568,function(b){return $.post("http://larvafun.com/upload.php",{data:b},function(b){var d,e,f;a.debug(b),f="http://larvafun.com/"+b.url,d={method:"feed",link:"http://scorpion-smasher.larvafun.com",picture:f,name:c+" has killed "+a.GUIAxes.getScore()+" scorpions.",caption:"Posted from the ScorpionSmasher.",description:"Visit http://scorpion-smasher.larvafun.com for more information."};try{return facebookConnectPlugin.showDialog(d)}catch(g){return e=g,FB.ui(d)}})})})):facebookConnectPlugin.login(["public_profile"],function(b){return a.debug(b)},function(b){return a.debug("failed",b)})}}(this))},b.prototype.update=function(){var a,b,c,d,e;for(this.GUIAxes.update(),this.GUIClock.update(),d=this.enemies,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.update());return e},b.prototype.pause_game=function(){return this.game.isOver||this.game.paused?void 0:(this.game.paused=!this.game.paused,$("body").addClass("paused"))},b}(k),b.exports=l},{"../../mixins/logger.coffee":20,"../axe.coffee":1,"../boss.coffee":2,"../button.coffee":3,"../config.coffee":4,"../fast_scorpion.coffee":6,"../gui/axes.coffee":7,"../gui/clock.coffee":8,"../gui/pause_btn.coffee":9,"../module.coffee":10,"../scorpion.coffee":13,"../util/util.coffee":18}],18:[function(a,b){var c;c={resize:function(a,b,c,d){var e,f;return e=document.createElement("canvas"),e.width=b,e.height=c,"string"==typeof a?(f=new Image,f.onload=function(){return e.getContext("2d").drawImage(f,0,0,b,c),d(e.toDataURL())},f.src=a):void 0},getRandomInt:function(a,b){return Math.floor(Math.random()*(b-a+1))+a}},b.exports=c},{}],19:[function(a){var b,c,d,e,f,g,h;f=a("./lib/states/play_state.coffee"),e=a("./lib/states/menu_state.coffee"),d=a("./lib/states/load_state.coffee"),c=a("./lib/states/boot_state.coffee"),g=a("./lib/config.coffee"),b="1.0",h=function(){var a,h,i,j,k,l;return i=function(){var a;return a=new Phaser.Game(g.width,g.height,Phaser.CANVAS),a.state.add("boot",c,!0),a.state.add("load",d),a.state.add("menu",e),a.state.add("play",f)},a=30,/(android)/i.test(navigator.userAgent)?h={banner:"ca-app-pub-1445461785188374/4195071643",interstitial:"ca-app-pub-1445461785188374/5671804847"}:/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&(h={banner:"ca-app-pub-1445461785188374/7140681643",interstitial:"ca-app-pub-1445461785188374/4334672441"},screen.width/screen.height===1.5&&(a=100)),"undefined"!=typeof AdMob&&null!==AdMob&&AdMob.createBanner({adId:h.banner,adSize:"SMART_BANNER",position:AdMob.AD_POSITION.BOTTOM_CENTER,overlap:!0,autoShow:!0}),j=function(a){return/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&"undefined"!=typeof cordova&&null!==cordova?cordova.exec(null,null,"Browser","open",[a.ios_url]):void 0},$.post("http://larvafun.com/info.php",function(a){var c;return a.version!==b&&null!=(c=navigator.notification)?c.alert("Thank you for playing LarvaGame. There's an update available.",function(){return j(a)},"Update available","Update now"):void 0}),window.fbAsyncInit=function(){return FB.init({appId:"798481556936996",xfbml:!0,version:"v2.0"}),("undefined"==typeof cordova||null===cordova)&&(window.facebookConnectPlugin=FB),/android/i.test(navigator.userAgent)?"undefined"!=typeof admob&&null!==admob?(admob.createBannerView({publisherId:h.banner}),document.addEventListener(admob.events.onAdLoaded,function(){return i()})):void 0:i()},"none"===(null!=(k=navigator.connection)?k.type:void 0)||"unknown"===(null!=(l=navigator.connection)?l.type:void 0)?i():function(a,b,c){var d,e;return d=a.getElementsByTagName(b)[0],a.getElementById(c)?void 0:(e=a.createElement(b),e.id=c,e.src="https://connect.facebook.net/en_US/sdk.js",d.parentNode.insertBefore(e,d))}(document,"script","facebook-jssdk")},"undefined"!=typeof cordova&&null!==cordova?$(document).on("deviceready",h):$(document).ready(h)},{"./lib/config.coffee":4,"./lib/states/boot_state.coffee":14,"./lib/states/load_state.coffee":15,"./lib/states/menu_state.coffee":16,"./lib/states/play_state.coffee":17}],20:[function(a,b){var c;c={debug:function(){return console.debug.apply(console,this._build_msg(arguments))},info:function(){return console.info.apply(console,this._build_msg(arguments))},warn:function(){return console.warn.apply(console,this._build_msg(arguments))},error:function(){return console.error.apply(console,this._build_msg(arguments))},_build_msg:function(a){return a=Array.prototype.slice.call(a,0),null!=this.logPrefix&&a.splice(0,0,"["+this.logPrefix+"]"),a}},b.exports=c},{}]},{},[19]);